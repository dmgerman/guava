begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (C) 2012 The Guava Authors  *  * Licensed under the Apache License, Version 2.0 (the "License");  * you may not use this file except in compliance with the License.  * You may obtain a copy of the License at  *  * http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
DECL|package|com.google.common.testing
package|package
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|testing
package|;
end_package

begin_import
import|import static
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Preconditions
operator|.
name|checkNotNull
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|CharMatcher
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Charsets
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Equivalence
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Joiner
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Optional
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Splitter
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Throwables
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Ticker
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ArrayListMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|BiMap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|HashBasedTable
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|HashBiMap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|HashMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|HashMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableBiMap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableCollection
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableList
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableListMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableMap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableSet
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableSetMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableSortedMap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableSortedMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableSortedSet
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ImmutableTable
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Iterables
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|LinkedHashMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|LinkedHashMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|ListMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Lists
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Maps
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Multimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Multiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Ordering
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Range
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|RowSortedTable
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|SetMultimap
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Sets
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|SortedMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|Table
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|TreeBasedTable
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|collect
operator|.
name|TreeMultiset
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|primitives
operator|.
name|Primitives
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|primitives
operator|.
name|UnsignedInteger
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|primitives
operator|.
name|UnsignedLong
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|reflect
operator|.
name|AbstractInvocationHandler
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|reflect
operator|.
name|Invokable
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|reflect
operator|.
name|Parameter
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|reflect
operator|.
name|Reflection
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|reflect
operator|.
name|TypeToken
import|;
end_import

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|ByteArrayInputStream
import|;
end_import

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|File
import|;
end_import

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|InputStream
import|;
end_import

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|Reader
import|;
end_import

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|StringReader
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|annotation
operator|.
name|ElementType
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|annotation
operator|.
name|Retention
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|annotation
operator|.
name|RetentionPolicy
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|annotation
operator|.
name|Target
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|reflect
operator|.
name|Array
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|reflect
operator|.
name|InvocationTargetException
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|reflect
operator|.
name|Method
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|reflect
operator|.
name|Type
import|;
end_import

begin_import
import|import
name|java
operator|.
name|lang
operator|.
name|reflect
operator|.
name|TypeVariable
import|;
end_import

begin_import
import|import
name|java
operator|.
name|math
operator|.
name|BigDecimal
import|;
end_import

begin_import
import|import
name|java
operator|.
name|math
operator|.
name|BigInteger
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|Buffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|ByteBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|CharBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|DoubleBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|FloatBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|IntBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|LongBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|ShortBuffer
import|;
end_import

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|charset
operator|.
name|Charset
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|ArrayList
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Arrays
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Collection
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Comparator
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Currency
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|LinkedHashMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|LinkedHashSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|LinkedList
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Locale
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Map
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|NavigableMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|NavigableSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Set
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|SortedMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|SortedSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|TreeMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|TreeSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|concurrent
operator|.
name|ConcurrentMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|concurrent
operator|.
name|atomic
operator|.
name|AtomicInteger
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|regex
operator|.
name|Pattern
import|;
end_import

begin_import
import|import
name|javax
operator|.
name|annotation
operator|.
name|Nullable
import|;
end_import

begin_comment
comment|/**  * Generates fresh instances of types that are different from each other (if possible).  *  * @author Ben Yu  */
end_comment

begin_class
DECL|class|FreshValueGenerator
class|class
name|FreshValueGenerator
block|{
DECL|field|GENERATORS
specifier|private
specifier|static
specifier|final
name|ImmutableMap
argument_list|<
name|Class
argument_list|<
name|?
argument_list|>
argument_list|,
name|Method
argument_list|>
name|GENERATORS
decl_stmt|;
static|static
block|{
name|ImmutableMap
operator|.
name|Builder
argument_list|<
name|Class
argument_list|<
name|?
argument_list|>
argument_list|,
name|Method
argument_list|>
name|builder
init|=
name|ImmutableMap
operator|.
name|builder
argument_list|()
decl_stmt|;
for|for
control|(
name|Method
name|method
range|:
name|FreshValueGenerator
operator|.
name|class
operator|.
name|getDeclaredMethods
argument_list|()
control|)
block|{
if|if
condition|(
name|method
operator|.
name|isAnnotationPresent
argument_list|(
name|Generates
operator|.
name|class
argument_list|)
condition|)
block|{
name|builder
operator|.
name|put
argument_list|(
name|method
operator|.
name|getReturnType
argument_list|()
argument_list|,
name|method
argument_list|)
expr_stmt|;
block|}
block|}
name|GENERATORS
operator|=
name|builder
operator|.
name|build
argument_list|()
expr_stmt|;
block|}
DECL|field|differentiator
specifier|private
specifier|final
name|AtomicInteger
name|differentiator
init|=
operator|new
name|AtomicInteger
argument_list|(
literal|1
argument_list|)
decl_stmt|;
DECL|field|sampleInstances
specifier|private
specifier|final
name|ListMultimap
argument_list|<
name|Class
argument_list|<
name|?
argument_list|>
argument_list|,
name|Object
argument_list|>
name|sampleInstances
init|=
name|ArrayListMultimap
operator|.
name|create
argument_list|()
decl_stmt|;
DECL|field|generatedOptionalTypes
specifier|private
specifier|final
name|Set
argument_list|<
name|Type
argument_list|>
name|generatedOptionalTypes
init|=
name|Sets
operator|.
name|newHashSet
argument_list|()
decl_stmt|;
DECL|method|addSampleInstances (Class<T> type, Iterable<? extends T> instances)
parameter_list|<
name|T
parameter_list|>
name|void
name|addSampleInstances
parameter_list|(
name|Class
argument_list|<
name|T
argument_list|>
name|type
parameter_list|,
name|Iterable
argument_list|<
name|?
extends|extends
name|T
argument_list|>
name|instances
parameter_list|)
block|{
name|sampleInstances
operator|.
name|putAll
argument_list|(
name|checkNotNull
argument_list|(
name|type
argument_list|)
argument_list|,
name|checkNotNull
argument_list|(
name|instances
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**    * Returns a fresh instance for {@code type} if possible. The returned instance could be:    *<ul>    *<li>exactly of the given type, including generic type parameters, such as    *     {@code ImmutableList<String>};    *<li>of the raw type;    *<li>null if no fresh value can be generated.    *</ul>    */
DECL|method|generate (TypeToken<?> type)
annotation|@
name|Nullable
name|Object
name|generate
parameter_list|(
name|TypeToken
argument_list|<
name|?
argument_list|>
name|type
parameter_list|)
block|{
name|Class
argument_list|<
name|?
argument_list|>
name|rawType
init|=
name|type
operator|.
name|getRawType
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|Object
argument_list|>
name|samples
init|=
name|sampleInstances
operator|.
name|get
argument_list|(
name|rawType
argument_list|)
decl_stmt|;
name|Object
name|sample
init|=
name|nextInstance
argument_list|(
name|samples
argument_list|,
literal|null
argument_list|)
decl_stmt|;
if|if
condition|(
name|sample
operator|!=
literal|null
condition|)
block|{
return|return
name|sample
return|;
block|}
if|if
condition|(
name|rawType
operator|.
name|isEnum
argument_list|()
condition|)
block|{
return|return
name|nextInstance
argument_list|(
name|rawType
operator|.
name|getEnumConstants
argument_list|()
argument_list|,
literal|null
argument_list|)
return|;
block|}
if|if
condition|(
name|type
operator|.
name|isArray
argument_list|()
condition|)
block|{
name|TypeToken
argument_list|<
name|?
argument_list|>
name|componentType
init|=
name|type
operator|.
name|getComponentType
argument_list|()
decl_stmt|;
name|Object
name|array
init|=
name|Array
operator|.
name|newInstance
argument_list|(
name|componentType
operator|.
name|getRawType
argument_list|()
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|Array
operator|.
name|set
argument_list|(
name|array
argument_list|,
literal|0
argument_list|,
name|generate
argument_list|(
name|componentType
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|array
return|;
block|}
if|if
condition|(
name|rawType
operator|==
name|Optional
operator|.
name|class
operator|&&
name|generatedOptionalTypes
operator|.
name|add
argument_list|(
name|type
operator|.
name|getType
argument_list|()
argument_list|)
condition|)
block|{
comment|// For any Optional<T>, we'll first generate absent(). The next call generates a distinct
comment|// value of T to be wrapped in Optional.of().
return|return
name|Optional
operator|.
name|absent
argument_list|()
return|;
block|}
name|Method
name|generator
init|=
name|GENERATORS
operator|.
name|get
argument_list|(
name|rawType
argument_list|)
decl_stmt|;
if|if
condition|(
name|generator
operator|!=
literal|null
condition|)
block|{
name|ImmutableList
argument_list|<
name|Parameter
argument_list|>
name|params
init|=
name|Invokable
operator|.
name|from
argument_list|(
name|generator
argument_list|)
operator|.
name|getParameters
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|Object
argument_list|>
name|args
init|=
name|Lists
operator|.
name|newArrayListWithCapacity
argument_list|(
name|params
operator|.
name|size
argument_list|()
argument_list|)
decl_stmt|;
name|TypeVariable
argument_list|<
name|?
argument_list|>
index|[]
name|typeVars
init|=
name|rawType
operator|.
name|getTypeParameters
argument_list|()
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|params
operator|.
name|size
argument_list|()
condition|;
name|i
operator|++
control|)
block|{
name|TypeToken
argument_list|<
name|?
argument_list|>
name|paramType
init|=
name|type
operator|.
name|resolveType
argument_list|(
name|typeVars
index|[
name|i
index|]
argument_list|)
decl_stmt|;
comment|// We require all @Generates methods to either be parameter-less or accept non-null
comment|// fresh values for their generic parameter types.
name|Object
name|argValue
init|=
name|generate
argument_list|(
name|paramType
argument_list|)
decl_stmt|;
if|if
condition|(
name|argValue
operator|==
literal|null
condition|)
block|{
comment|// When a parameter of a @Generates method cannot be created,
comment|// The type most likely is a collection.
comment|// Our distinct proxy doesn't work for collections.
comment|// So just refuse to generate.
return|return
literal|null
return|;
block|}
name|args
operator|.
name|add
argument_list|(
name|argValue
argument_list|)
expr_stmt|;
block|}
try|try
block|{
return|return
name|generator
operator|.
name|invoke
argument_list|(
name|this
argument_list|,
name|args
operator|.
name|toArray
argument_list|()
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|InvocationTargetException
name|e
parameter_list|)
block|{
name|Throwables
operator|.
name|propagate
argument_list|(
name|e
operator|.
name|getCause
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|Exception
name|e
parameter_list|)
block|{
throw|throw
name|Throwables
operator|.
name|propagate
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
return|return
name|defaultGenerate
argument_list|(
name|rawType
argument_list|)
return|;
block|}
DECL|method|generate (Class<T> type)
annotation|@
name|Nullable
specifier|final
parameter_list|<
name|T
parameter_list|>
name|T
name|generate
parameter_list|(
name|Class
argument_list|<
name|T
argument_list|>
name|type
parameter_list|)
block|{
return|return
name|Primitives
operator|.
name|wrap
argument_list|(
name|type
argument_list|)
operator|.
name|cast
argument_list|(
name|generate
argument_list|(
name|TypeToken
operator|.
name|of
argument_list|(
name|type
argument_list|)
argument_list|)
argument_list|)
return|;
block|}
DECL|method|defaultGenerate (Class<T> rawType)
specifier|private
parameter_list|<
name|T
parameter_list|>
name|T
name|defaultGenerate
parameter_list|(
name|Class
argument_list|<
name|T
argument_list|>
name|rawType
parameter_list|)
block|{
if|if
condition|(
name|rawType
operator|.
name|isInterface
argument_list|()
condition|)
block|{
comment|// always create a new proxy
return|return
name|newProxy
argument_list|(
name|rawType
argument_list|)
return|;
block|}
return|return
name|ArbitraryInstances
operator|.
name|get
argument_list|(
name|rawType
argument_list|)
return|;
block|}
DECL|method|newProxy (final Class<T> interfaceType)
specifier|final
parameter_list|<
name|T
parameter_list|>
name|T
name|newProxy
parameter_list|(
specifier|final
name|Class
argument_list|<
name|T
argument_list|>
name|interfaceType
parameter_list|)
block|{
return|return
name|Reflection
operator|.
name|newProxy
argument_list|(
name|interfaceType
argument_list|,
operator|new
name|FreshInvocationHandler
argument_list|(
name|interfaceType
argument_list|)
argument_list|)
return|;
block|}
DECL|class|FreshInvocationHandler
specifier|private
specifier|final
class|class
name|FreshInvocationHandler
extends|extends
name|AbstractInvocationHandler
block|{
DECL|field|identity
specifier|private
specifier|final
name|int
name|identity
init|=
name|freshInt
argument_list|()
decl_stmt|;
DECL|field|interfaceType
specifier|private
specifier|final
name|Class
argument_list|<
name|?
argument_list|>
name|interfaceType
decl_stmt|;
DECL|method|FreshInvocationHandler (Class<?> interfaceType)
name|FreshInvocationHandler
parameter_list|(
name|Class
argument_list|<
name|?
argument_list|>
name|interfaceType
parameter_list|)
block|{
name|this
operator|.
name|interfaceType
operator|=
name|interfaceType
expr_stmt|;
block|}
DECL|method|handleInvocation (Object proxy, Method method, Object[] args)
annotation|@
name|Override
specifier|protected
name|Object
name|handleInvocation
parameter_list|(
name|Object
name|proxy
parameter_list|,
name|Method
name|method
parameter_list|,
name|Object
index|[]
name|args
parameter_list|)
block|{
return|return
name|interfaceMethodCalled
argument_list|(
name|interfaceType
argument_list|,
name|method
argument_list|)
return|;
block|}
DECL|method|hashCode ()
annotation|@
name|Override
specifier|public
name|int
name|hashCode
parameter_list|()
block|{
return|return
name|identity
return|;
block|}
DECL|method|equals (@ullable Object obj)
annotation|@
name|Override
specifier|public
name|boolean
name|equals
parameter_list|(
annotation|@
name|Nullable
name|Object
name|obj
parameter_list|)
block|{
if|if
condition|(
name|obj
operator|instanceof
name|FreshInvocationHandler
condition|)
block|{
name|FreshInvocationHandler
name|that
init|=
operator|(
name|FreshInvocationHandler
operator|)
name|obj
decl_stmt|;
return|return
name|identity
operator|==
name|that
operator|.
name|identity
return|;
block|}
return|return
literal|false
return|;
block|}
DECL|method|toString ()
annotation|@
name|Override
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|paramString
argument_list|(
name|interfaceType
argument_list|,
name|identity
argument_list|)
return|;
block|}
block|}
comment|/** Subclasses can override to provide different return value for proxied interface methods. */
DECL|method|interfaceMethodCalled ( @uppressWarningsR) Class<?> interfaceType, @SuppressWarnings(R) Method method)
name|Object
name|interfaceMethodCalled
parameter_list|(
annotation|@
name|SuppressWarnings
argument_list|(
literal|"unused"
argument_list|)
name|Class
argument_list|<
name|?
argument_list|>
name|interfaceType
parameter_list|,
annotation|@
name|SuppressWarnings
argument_list|(
literal|"unused"
argument_list|)
name|Method
name|method
parameter_list|)
block|{
throw|throw
operator|new
name|UnsupportedOperationException
argument_list|()
throw|;
block|}
DECL|method|nextInstance (T[] instances, T defaultValue)
specifier|private
parameter_list|<
name|T
parameter_list|>
name|T
name|nextInstance
parameter_list|(
name|T
index|[]
name|instances
parameter_list|,
name|T
name|defaultValue
parameter_list|)
block|{
return|return
name|nextInstance
argument_list|(
name|Arrays
operator|.
name|asList
argument_list|(
name|instances
argument_list|)
argument_list|,
name|defaultValue
argument_list|)
return|;
block|}
DECL|method|nextInstance (Collection<T> instances, T defaultValue)
specifier|private
parameter_list|<
name|T
parameter_list|>
name|T
name|nextInstance
parameter_list|(
name|Collection
argument_list|<
name|T
argument_list|>
name|instances
parameter_list|,
name|T
name|defaultValue
parameter_list|)
block|{
if|if
condition|(
name|instances
operator|.
name|isEmpty
argument_list|()
condition|)
block|{
return|return
name|defaultValue
return|;
block|}
comment|// freshInt() is 1-based.
return|return
name|Iterables
operator|.
name|get
argument_list|(
name|instances
argument_list|,
operator|(
name|freshInt
argument_list|()
operator|-
literal|1
operator|)
operator|%
name|instances
operator|.
name|size
argument_list|()
argument_list|)
return|;
block|}
DECL|method|paramString (Class<?> type, int i)
specifier|private
specifier|static
name|String
name|paramString
parameter_list|(
name|Class
argument_list|<
name|?
argument_list|>
name|type
parameter_list|,
name|int
name|i
parameter_list|)
block|{
return|return
name|type
operator|.
name|getSimpleName
argument_list|()
operator|+
literal|'@'
operator|+
name|i
return|;
block|}
comment|/**    * Annotates a method to be the instance generator of a certain type. The return type is the    * generated type. The method parameters are non-null fresh values for each method type variable    * in the same type variable declaration order of the return type.    */
annotation|@
name|Target
argument_list|(
name|ElementType
operator|.
name|METHOD
argument_list|)
annotation|@
name|Retention
argument_list|(
name|RetentionPolicy
operator|.
name|RUNTIME
argument_list|)
DECL|annotation|Generates
specifier|private
annotation_defn|@interface
name|Generates
block|{}
DECL|method|freshClass ()
annotation|@
name|Generates
specifier|private
name|Class
argument_list|<
name|?
argument_list|>
name|freshClass
parameter_list|()
block|{
return|return
name|nextInstance
argument_list|(
name|ImmutableList
operator|.
name|of
argument_list|(
name|int
operator|.
name|class
argument_list|,
name|long
operator|.
name|class
argument_list|,
name|void
operator|.
name|class
argument_list|,
name|Object
operator|.
name|class
argument_list|,
name|Object
index|[]
operator|.
expr|class
argument_list|,
name|Iterable
operator|.
name|class
argument_list|)
argument_list|,
name|Object
operator|.
name|class
argument_list|)
return|;
block|}
DECL|method|freshObject ()
annotation|@
name|Generates
specifier|private
name|Object
name|freshObject
parameter_list|()
block|{
return|return
name|freshString
argument_list|()
return|;
block|}
DECL|method|freshNumber ()
annotation|@
name|Generates
specifier|private
name|Number
name|freshNumber
parameter_list|()
block|{
return|return
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshInt ()
annotation|@
name|Generates
specifier|private
name|int
name|freshInt
parameter_list|()
block|{
return|return
name|differentiator
operator|.
name|getAndIncrement
argument_list|()
return|;
block|}
DECL|method|freshInteger ()
annotation|@
name|Generates
specifier|private
name|Integer
name|freshInteger
parameter_list|()
block|{
return|return
operator|new
name|Integer
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshLong ()
annotation|@
name|Generates
specifier|private
name|long
name|freshLong
parameter_list|()
block|{
return|return
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshLongObject ()
annotation|@
name|Generates
specifier|private
name|Long
name|freshLongObject
parameter_list|()
block|{
return|return
operator|new
name|Long
argument_list|(
name|freshLong
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshFloat ()
annotation|@
name|Generates
specifier|private
name|float
name|freshFloat
parameter_list|()
block|{
return|return
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshFloatObject ()
annotation|@
name|Generates
specifier|private
name|Float
name|freshFloatObject
parameter_list|()
block|{
return|return
operator|new
name|Float
argument_list|(
name|freshFloat
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshDouble ()
annotation|@
name|Generates
specifier|private
name|double
name|freshDouble
parameter_list|()
block|{
return|return
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshDoubleObject ()
annotation|@
name|Generates
specifier|private
name|Double
name|freshDoubleObject
parameter_list|()
block|{
return|return
operator|new
name|Double
argument_list|(
name|freshDouble
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshShort ()
annotation|@
name|Generates
specifier|private
name|short
name|freshShort
parameter_list|()
block|{
return|return
operator|(
name|short
operator|)
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshShortObject ()
annotation|@
name|Generates
specifier|private
name|Short
name|freshShortObject
parameter_list|()
block|{
return|return
operator|new
name|Short
argument_list|(
name|freshShort
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshByte ()
annotation|@
name|Generates
specifier|private
name|byte
name|freshByte
parameter_list|()
block|{
return|return
operator|(
name|byte
operator|)
name|freshInt
argument_list|()
return|;
block|}
DECL|method|freshByteObject ()
annotation|@
name|Generates
specifier|private
name|Byte
name|freshByteObject
parameter_list|()
block|{
return|return
operator|new
name|Byte
argument_list|(
name|freshByte
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshChar ()
annotation|@
name|Generates
specifier|private
name|char
name|freshChar
parameter_list|()
block|{
return|return
name|freshString
argument_list|()
operator|.
name|charAt
argument_list|(
literal|0
argument_list|)
return|;
block|}
DECL|method|freshCharacter ()
annotation|@
name|Generates
specifier|private
name|Character
name|freshCharacter
parameter_list|()
block|{
return|return
operator|new
name|Character
argument_list|(
name|freshChar
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshBoolean ()
annotation|@
name|Generates
specifier|private
name|boolean
name|freshBoolean
parameter_list|()
block|{
return|return
name|freshInt
argument_list|()
operator|%
literal|2
operator|==
literal|0
return|;
block|}
DECL|method|freshBooleanObject ()
annotation|@
name|Generates
specifier|private
name|Boolean
name|freshBooleanObject
parameter_list|()
block|{
return|return
operator|new
name|Boolean
argument_list|(
name|freshBoolean
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshUnsignedInteger ()
annotation|@
name|Generates
specifier|private
name|UnsignedInteger
name|freshUnsignedInteger
parameter_list|()
block|{
return|return
name|UnsignedInteger
operator|.
name|fromIntBits
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshUnsignedLong ()
annotation|@
name|Generates
specifier|private
name|UnsignedLong
name|freshUnsignedLong
parameter_list|()
block|{
return|return
name|UnsignedLong
operator|.
name|fromLongBits
argument_list|(
name|freshLong
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshBigInteger ()
annotation|@
name|Generates
specifier|private
name|BigInteger
name|freshBigInteger
parameter_list|()
block|{
return|return
name|BigInteger
operator|.
name|valueOf
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshBigDecimal ()
annotation|@
name|Generates
specifier|private
name|BigDecimal
name|freshBigDecimal
parameter_list|()
block|{
return|return
name|BigDecimal
operator|.
name|valueOf
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshCharSequence ()
annotation|@
name|Generates
specifier|private
name|CharSequence
name|freshCharSequence
parameter_list|()
block|{
return|return
name|freshString
argument_list|()
return|;
block|}
DECL|method|freshString ()
annotation|@
name|Generates
specifier|private
name|String
name|freshString
parameter_list|()
block|{
return|return
name|Integer
operator|.
name|toString
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshComparable ()
annotation|@
name|Generates
specifier|private
name|Comparable
argument_list|<
name|?
argument_list|>
name|freshComparable
parameter_list|()
block|{
return|return
name|freshString
argument_list|()
return|;
block|}
DECL|method|freshPattern ()
annotation|@
name|Generates
specifier|private
name|Pattern
name|freshPattern
parameter_list|()
block|{
return|return
name|Pattern
operator|.
name|compile
argument_list|(
name|freshString
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshCharset ()
annotation|@
name|Generates
specifier|private
name|Charset
name|freshCharset
parameter_list|()
block|{
return|return
name|nextInstance
argument_list|(
name|Charset
operator|.
name|availableCharsets
argument_list|()
operator|.
name|values
argument_list|()
argument_list|,
name|Charsets
operator|.
name|UTF_8
argument_list|)
return|;
block|}
DECL|method|freshLocale ()
annotation|@
name|Generates
specifier|private
name|Locale
name|freshLocale
parameter_list|()
block|{
return|return
name|nextInstance
argument_list|(
name|Locale
operator|.
name|getAvailableLocales
argument_list|()
argument_list|,
name|Locale
operator|.
name|US
argument_list|)
return|;
block|}
DECL|method|freshCurrency ()
annotation|@
name|Generates
specifier|private
name|Currency
name|freshCurrency
parameter_list|()
block|{
try|try
block|{
name|Method
name|method
init|=
name|Currency
operator|.
name|class
operator|.
name|getMethod
argument_list|(
literal|"getAvailableCurrencies"
argument_list|)
decl_stmt|;
annotation|@
name|SuppressWarnings
argument_list|(
literal|"unchecked"
argument_list|)
comment|// getAvailableCurrencies() returns Set<Currency>.
name|Set
argument_list|<
name|Currency
argument_list|>
name|currencies
init|=
operator|(
name|Set
argument_list|<
name|Currency
argument_list|>
operator|)
name|method
operator|.
name|invoke
argument_list|(
literal|null
argument_list|)
decl_stmt|;
return|return
name|nextInstance
argument_list|(
name|currencies
argument_list|,
name|Currency
operator|.
name|getInstance
argument_list|(
name|Locale
operator|.
name|US
argument_list|)
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|NoSuchMethodException
name|notJava7
parameter_list|)
block|{
return|return
name|preJava7FreshCurrency
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|InvocationTargetException
name|cantCallGetAvailableCurrencies
parameter_list|)
block|{
return|return
name|preJava7FreshCurrency
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IllegalAccessException
name|impossible
parameter_list|)
block|{
throw|throw
operator|new
name|AssertionError
argument_list|(
name|impossible
argument_list|)
throw|;
block|}
block|}
DECL|method|preJava7FreshCurrency ()
specifier|private
name|Currency
name|preJava7FreshCurrency
parameter_list|()
block|{
for|for
control|(
name|Set
argument_list|<
name|Locale
argument_list|>
name|uselessLocales
init|=
name|Sets
operator|.
name|newHashSet
argument_list|()
init|;
condition|;
control|)
block|{
name|Locale
name|locale
init|=
name|freshLocale
argument_list|()
decl_stmt|;
if|if
condition|(
name|uselessLocales
operator|.
name|contains
argument_list|(
name|locale
argument_list|)
condition|)
block|{
comment|// exhausted all locales
return|return
name|Currency
operator|.
name|getInstance
argument_list|(
name|Locale
operator|.
name|US
argument_list|)
return|;
block|}
try|try
block|{
return|return
name|Currency
operator|.
name|getInstance
argument_list|(
name|locale
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IllegalArgumentException
name|e
parameter_list|)
block|{
name|uselessLocales
operator|.
name|add
argument_list|(
name|locale
argument_list|)
expr_stmt|;
block|}
block|}
block|}
comment|// common.base
DECL|method|freshOptional (T value)
annotation|@
name|Generates
specifier|private
parameter_list|<
name|T
parameter_list|>
name|Optional
argument_list|<
name|T
argument_list|>
name|freshOptional
parameter_list|(
name|T
name|value
parameter_list|)
block|{
return|return
name|Optional
operator|.
name|of
argument_list|(
name|value
argument_list|)
return|;
block|}
DECL|method|freshJoiner ()
annotation|@
name|Generates
specifier|private
name|Joiner
name|freshJoiner
parameter_list|()
block|{
return|return
name|Joiner
operator|.
name|on
argument_list|(
name|freshString
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshSplitter ()
annotation|@
name|Generates
specifier|private
name|Splitter
name|freshSplitter
parameter_list|()
block|{
return|return
name|Splitter
operator|.
name|on
argument_list|(
name|freshString
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshEquivalence ()
annotation|@
name|Generates
specifier|private
parameter_list|<
name|T
parameter_list|>
name|Equivalence
argument_list|<
name|T
argument_list|>
name|freshEquivalence
parameter_list|()
block|{
return|return
operator|new
name|Equivalence
argument_list|<
name|T
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|protected
name|boolean
name|doEquivalent
parameter_list|(
name|T
name|a
parameter_list|,
name|T
name|b
parameter_list|)
block|{
return|return
literal|false
return|;
block|}
annotation|@
name|Override
specifier|protected
name|int
name|doHash
parameter_list|(
name|T
name|t
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
specifier|final
name|String
name|string
init|=
name|paramString
argument_list|(
name|Equivalence
operator|.
name|class
argument_list|,
name|freshInt
argument_list|()
argument_list|)
decl_stmt|;
annotation|@
name|Override
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|string
return|;
block|}
block|}
return|;
block|}
DECL|method|freshCharMatcher ()
annotation|@
name|Generates
specifier|private
name|CharMatcher
name|freshCharMatcher
parameter_list|()
block|{
return|return
operator|new
name|CharMatcher
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|boolean
name|matches
parameter_list|(
name|char
name|c
parameter_list|)
block|{
return|return
literal|false
return|;
block|}
specifier|final
name|String
name|string
init|=
name|paramString
argument_list|(
name|CharMatcher
operator|.
name|class
argument_list|,
name|freshInt
argument_list|()
argument_list|)
decl_stmt|;
annotation|@
name|Override
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|string
return|;
block|}
block|}
return|;
block|}
DECL|method|freshTicker ()
annotation|@
name|Generates
specifier|private
name|Ticker
name|freshTicker
parameter_list|()
block|{
return|return
operator|new
name|Ticker
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|long
name|read
parameter_list|()
block|{
return|return
literal|0
return|;
block|}
specifier|final
name|String
name|string
init|=
name|paramString
argument_list|(
name|Ticker
operator|.
name|class
argument_list|,
name|freshInt
argument_list|()
argument_list|)
decl_stmt|;
annotation|@
name|Override
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|string
return|;
block|}
block|}
return|;
block|}
comment|// collect
DECL|method|freshComparator ()
annotation|@
name|Generates
specifier|private
parameter_list|<
name|T
parameter_list|>
name|Comparator
argument_list|<
name|T
argument_list|>
name|freshComparator
parameter_list|()
block|{
return|return
name|freshOrdering
argument_list|()
return|;
block|}
DECL|method|freshOrdering ()
annotation|@
name|Generates
specifier|private
parameter_list|<
name|T
parameter_list|>
name|Ordering
argument_list|<
name|T
argument_list|>
name|freshOrdering
parameter_list|()
block|{
return|return
operator|new
name|Ordering
argument_list|<
name|T
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|int
name|compare
parameter_list|(
name|T
name|left
parameter_list|,
name|T
name|right
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
specifier|final
name|String
name|string
init|=
name|paramString
argument_list|(
name|Ordering
operator|.
name|class
argument_list|,
name|freshInt
argument_list|()
argument_list|)
decl_stmt|;
annotation|@
name|Override
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|string
return|;
block|}
block|}
return|;
block|}
DECL|method|freshRange (C freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|C
extends|extends
name|Comparable
parameter_list|>
name|Range
argument_list|<
name|C
argument_list|>
name|freshRange
parameter_list|(
name|C
name|freshElement
parameter_list|)
block|{
return|return
name|Range
operator|.
name|singleton
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshIterable (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|Iterable
argument_list|<
name|E
argument_list|>
name|freshIterable
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshList
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshCollection (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|Collection
argument_list|<
name|E
argument_list|>
name|freshCollection
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshList
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshList (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|List
argument_list|<
name|E
argument_list|>
name|freshList
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshArrayList
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshArrayList (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|ArrayList
argument_list|<
name|E
argument_list|>
name|freshArrayList
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|ArrayList
argument_list|<
name|E
argument_list|>
name|list
init|=
name|Lists
operator|.
name|newArrayList
argument_list|()
decl_stmt|;
name|list
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|list
return|;
block|}
DECL|method|freshLinkedList (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|LinkedList
argument_list|<
name|E
argument_list|>
name|freshLinkedList
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|LinkedList
argument_list|<
name|E
argument_list|>
name|list
init|=
name|Lists
operator|.
name|newLinkedList
argument_list|()
decl_stmt|;
name|list
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|list
return|;
block|}
DECL|method|freshImmutableList (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|ImmutableList
argument_list|<
name|E
argument_list|>
name|freshImmutableList
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|ImmutableList
operator|.
name|of
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshImmutableCollection (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|ImmutableCollection
argument_list|<
name|E
argument_list|>
name|freshImmutableCollection
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshImmutableList
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshSet (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|Set
argument_list|<
name|E
argument_list|>
name|freshSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshHashSet
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshHashSet (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|HashSet
argument_list|<
name|E
argument_list|>
name|freshHashSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshLinkedHashSet
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshLinkedHashSet (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|LinkedHashSet
argument_list|<
name|E
argument_list|>
name|freshLinkedHashSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|LinkedHashSet
argument_list|<
name|E
argument_list|>
name|set
init|=
name|Sets
operator|.
name|newLinkedHashSet
argument_list|()
decl_stmt|;
name|set
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|set
return|;
block|}
DECL|method|freshImmutableSet (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|ImmutableSet
argument_list|<
name|E
argument_list|>
name|freshImmutableSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|ImmutableSet
operator|.
name|of
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|E
argument_list|>
parameter_list|>
name|SortedSet
argument_list|<
name|E
argument_list|>
DECL|method|freshSortedSet (E freshElement)
name|freshSortedSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshNavigableSet
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|E
argument_list|>
parameter_list|>
name|NavigableSet
argument_list|<
name|E
argument_list|>
DECL|method|freshNavigableSet (E freshElement)
name|freshNavigableSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshTreeSet
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshTreeSet ( E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|E
argument_list|>
parameter_list|>
name|TreeSet
argument_list|<
name|E
argument_list|>
name|freshTreeSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|TreeSet
argument_list|<
name|E
argument_list|>
name|set
init|=
name|Sets
operator|.
name|newTreeSet
argument_list|()
decl_stmt|;
name|set
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|set
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|E
argument_list|>
parameter_list|>
name|ImmutableSortedSet
argument_list|<
name|E
argument_list|>
DECL|method|freshImmutableSortedSet (E freshElement)
name|freshImmutableSortedSet
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|ImmutableSortedSet
operator|.
name|of
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshMultiset (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|Multiset
argument_list|<
name|E
argument_list|>
name|freshMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshHashMultiset
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshHashMultiset (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|HashMultiset
argument_list|<
name|E
argument_list|>
name|freshHashMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|HashMultiset
argument_list|<
name|E
argument_list|>
name|multiset
init|=
name|HashMultiset
operator|.
name|create
argument_list|()
decl_stmt|;
name|multiset
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|multiset
return|;
block|}
DECL|method|freshLinkedHashMultiset (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|LinkedHashMultiset
argument_list|<
name|E
argument_list|>
name|freshLinkedHashMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|LinkedHashMultiset
argument_list|<
name|E
argument_list|>
name|multiset
init|=
name|LinkedHashMultiset
operator|.
name|create
argument_list|()
decl_stmt|;
name|multiset
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|multiset
return|;
block|}
DECL|method|freshImmutableMultiset (E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
parameter_list|>
name|ImmutableMultiset
argument_list|<
name|E
argument_list|>
name|freshImmutableMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|ImmutableMultiset
operator|.
name|of
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshSortedMultiset ( E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|E
argument_list|>
parameter_list|>
name|SortedMultiset
argument_list|<
name|E
argument_list|>
name|freshSortedMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|freshTreeMultiset
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshTreeMultiset ( E freshElement)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|E
argument_list|>
parameter_list|>
name|TreeMultiset
argument_list|<
name|E
argument_list|>
name|freshTreeMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
name|TreeMultiset
argument_list|<
name|E
argument_list|>
name|multiset
init|=
name|TreeMultiset
operator|.
name|create
argument_list|()
decl_stmt|;
name|multiset
operator|.
name|add
argument_list|(
name|freshElement
argument_list|)
expr_stmt|;
return|return
name|multiset
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|E
extends|extends
name|Comparable
argument_list|<
name|E
argument_list|>
parameter_list|>
name|ImmutableSortedMultiset
argument_list|<
name|E
argument_list|>
DECL|method|freshImmutableSortedMultiset (E freshElement)
name|freshImmutableSortedMultiset
parameter_list|(
name|E
name|freshElement
parameter_list|)
block|{
return|return
name|ImmutableSortedMultiset
operator|.
name|of
argument_list|(
name|freshElement
argument_list|)
return|;
block|}
DECL|method|freshMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|Map
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshHashdMap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshHashdMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|HashMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshHashdMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshLinkedHashMap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshLinkedHashMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|LinkedHashMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshLinkedHashMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|LinkedHashMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|map
init|=
name|Maps
operator|.
name|newLinkedHashMap
argument_list|()
decl_stmt|;
name|map
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|map
return|;
block|}
DECL|method|freshImmutableMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ImmutableMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshImmutableMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableMap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshConcurrentMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ConcurrentMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshConcurrentMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|ConcurrentMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|map
init|=
name|Maps
operator|.
name|newConcurrentMap
argument_list|()
decl_stmt|;
name|map
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|map
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|K
argument_list|>
parameter_list|,
name|V
parameter_list|>
name|SortedMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
DECL|method|freshSortedMap (K key, V value)
name|freshSortedMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshNavigableMap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|K
argument_list|>
parameter_list|,
name|V
parameter_list|>
name|NavigableMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
DECL|method|freshNavigableMap (K key, V value)
name|freshNavigableMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshTreeMap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshTreeMap ( K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|K
argument_list|>
parameter_list|,
name|V
parameter_list|>
name|TreeMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshTreeMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|TreeMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|map
init|=
name|Maps
operator|.
name|newTreeMap
argument_list|()
decl_stmt|;
name|map
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|map
return|;
block|}
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
extends|extends
name|Comparable
argument_list|<
name|?
super|super
name|K
argument_list|>
parameter_list|,
name|V
parameter_list|>
name|ImmutableSortedMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
DECL|method|freshImmutableSortedMap (K key, V value)
name|freshImmutableSortedMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableSortedMap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|Multimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshListMultimap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshImmutableMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ImmutableMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshImmutableMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableMultimap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshListMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ListMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshListMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshArrayListMultimap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshArrayListMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ArrayListMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshArrayListMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|ArrayListMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|multimap
init|=
name|ArrayListMultimap
operator|.
name|create
argument_list|()
decl_stmt|;
name|multimap
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|multimap
return|;
block|}
DECL|method|freshImmutableListMultimap ( K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ImmutableListMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshImmutableListMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableListMultimap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshSetMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|SetMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshSetMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshLinkedHashMultimap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshHashMultimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|HashMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshHashMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|HashMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|multimap
init|=
name|HashMultimap
operator|.
name|create
argument_list|()
decl_stmt|;
name|multimap
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|multimap
return|;
block|}
DECL|method|freshLinkedHashMultimap ( K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|LinkedHashMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshLinkedHashMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|LinkedHashMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|multimap
init|=
name|LinkedHashMultimap
operator|.
name|create
argument_list|()
decl_stmt|;
name|multimap
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|multimap
return|;
block|}
DECL|method|freshImmutableSetMultimap ( K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ImmutableSetMultimap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshImmutableSetMultimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableSetMultimap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshBimap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|BiMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshBimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshHashBiMap
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshHashBiMap (K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|HashBiMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshHashBiMap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|HashBiMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|bimap
init|=
name|HashBiMap
operator|.
name|create
argument_list|()
decl_stmt|;
name|bimap
operator|.
name|put
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|bimap
return|;
block|}
DECL|method|freshImmutableBimap ( K key, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|K
parameter_list|,
name|V
parameter_list|>
name|ImmutableBiMap
argument_list|<
name|K
argument_list|,
name|V
argument_list|>
name|freshImmutableBimap
parameter_list|(
name|K
name|key
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableBiMap
operator|.
name|of
argument_list|(
name|key
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshTable (R row, C column, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|R
parameter_list|,
name|C
parameter_list|,
name|V
parameter_list|>
name|Table
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
name|freshTable
parameter_list|(
name|R
name|row
parameter_list|,
name|C
name|column
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshHashBasedTable
argument_list|(
name|row
argument_list|,
name|column
argument_list|,
name|value
argument_list|)
return|;
block|}
DECL|method|freshHashBasedTable ( R row, C column, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|R
parameter_list|,
name|C
parameter_list|,
name|V
parameter_list|>
name|HashBasedTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
name|freshHashBasedTable
parameter_list|(
name|R
name|row
parameter_list|,
name|C
name|column
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|HashBasedTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
name|table
init|=
name|HashBasedTable
operator|.
name|create
argument_list|()
decl_stmt|;
name|table
operator|.
name|put
argument_list|(
name|row
argument_list|,
name|column
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|table
return|;
block|}
annotation|@
name|SuppressWarnings
argument_list|(
literal|"rawtypes"
argument_list|)
comment|// TreeBasedTable.create() is defined as such
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|R
extends|extends
name|Comparable
parameter_list|,
name|C
extends|extends
name|Comparable
parameter_list|,
name|V
parameter_list|>
name|RowSortedTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
DECL|method|freshRowSortedTable (R row, C column, V value)
name|freshRowSortedTable
parameter_list|(
name|R
name|row
parameter_list|,
name|C
name|column
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|freshTreeBasedTable
argument_list|(
name|row
argument_list|,
name|column
argument_list|,
name|value
argument_list|)
return|;
block|}
annotation|@
name|SuppressWarnings
argument_list|(
literal|"rawtypes"
argument_list|)
comment|// TreeBasedTable.create() is defined as such
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|R
extends|extends
name|Comparable
parameter_list|,
name|C
extends|extends
name|Comparable
parameter_list|,
name|V
parameter_list|>
name|TreeBasedTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
DECL|method|freshTreeBasedTable (R row, C column, V value)
name|freshTreeBasedTable
parameter_list|(
name|R
name|row
parameter_list|,
name|C
name|column
parameter_list|,
name|V
name|value
parameter_list|)
block|{
name|TreeBasedTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
name|table
init|=
name|TreeBasedTable
operator|.
name|create
argument_list|()
decl_stmt|;
name|table
operator|.
name|put
argument_list|(
name|row
argument_list|,
name|column
argument_list|,
name|value
argument_list|)
expr_stmt|;
return|return
name|table
return|;
block|}
DECL|method|freshImmutableTable ( R row, C column, V value)
annotation|@
name|Generates
specifier|private
specifier|static
parameter_list|<
name|R
parameter_list|,
name|C
parameter_list|,
name|V
parameter_list|>
name|ImmutableTable
argument_list|<
name|R
argument_list|,
name|C
argument_list|,
name|V
argument_list|>
name|freshImmutableTable
parameter_list|(
name|R
name|row
parameter_list|,
name|C
name|column
parameter_list|,
name|V
name|value
parameter_list|)
block|{
return|return
name|ImmutableTable
operator|.
name|of
argument_list|(
name|row
argument_list|,
name|column
argument_list|,
name|value
argument_list|)
return|;
block|}
comment|// common.reflect
DECL|method|freshTypeToken ()
annotation|@
name|Generates
specifier|private
name|TypeToken
argument_list|<
name|?
argument_list|>
name|freshTypeToken
parameter_list|()
block|{
return|return
name|TypeToken
operator|.
name|of
argument_list|(
name|freshClass
argument_list|()
argument_list|)
return|;
block|}
comment|// io types
DECL|method|freshFile ()
annotation|@
name|Generates
specifier|private
name|File
name|freshFile
parameter_list|()
block|{
return|return
operator|new
name|File
argument_list|(
name|freshString
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshByteArrayInputStream ()
annotation|@
name|Generates
specifier|private
specifier|static
name|ByteArrayInputStream
name|freshByteArrayInputStream
parameter_list|()
block|{
return|return
operator|new
name|ByteArrayInputStream
argument_list|(
operator|new
name|byte
index|[
literal|0
index|]
argument_list|)
return|;
block|}
DECL|method|freshInputStream ()
annotation|@
name|Generates
specifier|private
specifier|static
name|InputStream
name|freshInputStream
parameter_list|()
block|{
return|return
name|freshByteArrayInputStream
argument_list|()
return|;
block|}
DECL|method|freshStringReader ()
annotation|@
name|Generates
specifier|private
name|StringReader
name|freshStringReader
parameter_list|()
block|{
return|return
operator|new
name|StringReader
argument_list|(
name|freshString
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshReader ()
annotation|@
name|Generates
specifier|private
name|Reader
name|freshReader
parameter_list|()
block|{
return|return
name|freshStringReader
argument_list|()
return|;
block|}
DECL|method|freshReadable ()
annotation|@
name|Generates
specifier|private
name|Readable
name|freshReadable
parameter_list|()
block|{
return|return
name|freshReader
argument_list|()
return|;
block|}
DECL|method|freshBuffer ()
annotation|@
name|Generates
specifier|private
name|Buffer
name|freshBuffer
parameter_list|()
block|{
return|return
name|freshCharBuffer
argument_list|()
return|;
block|}
DECL|method|freshCharBuffer ()
annotation|@
name|Generates
specifier|private
name|CharBuffer
name|freshCharBuffer
parameter_list|()
block|{
return|return
name|CharBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshByteBuffer ()
annotation|@
name|Generates
specifier|private
name|ByteBuffer
name|freshByteBuffer
parameter_list|()
block|{
return|return
name|ByteBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshShortBuffer ()
annotation|@
name|Generates
specifier|private
name|ShortBuffer
name|freshShortBuffer
parameter_list|()
block|{
return|return
name|ShortBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshIntBuffer ()
annotation|@
name|Generates
specifier|private
name|IntBuffer
name|freshIntBuffer
parameter_list|()
block|{
return|return
name|IntBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshLongBuffer ()
annotation|@
name|Generates
specifier|private
name|LongBuffer
name|freshLongBuffer
parameter_list|()
block|{
return|return
name|LongBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshFloatBuffer ()
annotation|@
name|Generates
specifier|private
name|FloatBuffer
name|freshFloatBuffer
parameter_list|()
block|{
return|return
name|FloatBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
DECL|method|freshDoubleBuffer ()
annotation|@
name|Generates
specifier|private
name|DoubleBuffer
name|freshDoubleBuffer
parameter_list|()
block|{
return|return
name|DoubleBuffer
operator|.
name|allocate
argument_list|(
name|freshInt
argument_list|()
argument_list|)
return|;
block|}
block|}
end_class

end_unit

